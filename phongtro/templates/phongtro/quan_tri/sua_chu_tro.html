{% extends 'phongtro/quan_tri/base.html' %}

{% block title %}Sửa thông tin Chủ trọ{% endblock %}

{% block header_title %}Cập nhật chủ trọ: {{ chu_tro.ho_ten }}{% endblock %}

{% block content %}
<div class="bg-main p-6 rounded-lg shadow-sm border border-gray-200 max-w-2xl mx-auto">
    <form method="POST">
        {% csrf_token %}
        
        <div class="space-y-5"> {% if form.non_field_errors %}
                <div class="bg-tertiary/20 text-tertiary p-3 rounded-lg">
                    {% for error in form.non_field_errors %}{{ error }}{% endfor %}
                </div>
            {% endif %}

            {% for field in form %}
                <div>
                    {% if field.name == 'is_active' %}
                        <div class="mt-4 p-4 rounded-lg border border-highlight/30 bg-blue-50/50 flex items-center justify-between group hover:border-highlight transition-colors">
                             <div class="flex flex-col">
                                 <label for="{{ field.id_for_label }}" class="text-base font-bold text-headline cursor-pointer">
                                    {{ field.label }}
                                </label>
                                <span class="text-sm text-paragraph opacity-80">
                                    Tắt mục này sẽ chặn chủ trọ đăng nhập.
                                </span>
                             </div>
                             {{ field }}
                        </div>
                    
                    {% else %}
                        <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-paragraph mb-1">
                            {{ field.label }}
                        </label>
                        {{ field }}
                    {% endif %}
                    
                    {% if field.errors %}
                        <p class="text-tertiary text-sm mt-1">{{ field.errors|first }}</p>
                    {% endif %}
                </div>
            {% endfor %}
        </div>
        
        <style>
            /* CSS chung cho các loại input */
            input[type="text"], 
            input[type="email"], 
            input[type="tel"],
            input[type="date"], /* Thêm date */
            select {            /* Thêm select (dropdown) */
                width: 100%; 
                padding: 0.5rem 1rem; 
                border-radius: 0.5rem;
                border: 1px solid #90b4ce; /* secondary */
                background-color: white;
                color: #094067; /* headline */
            }
            
            /* Hiệu ứng khi click vào */
            input:focus, select:focus {
                outline: none; 
                box-shadow: 0 0 0 2px #3da9fc; /* highlight */
                border-color: #3da9fc;
            }
            
            /* Style cho input bị khóa (disabled) */
            input:disabled {
                background-color: #f0f4f8; 
                cursor: not-allowed;
                color: #5f6c7b;
            }

            /* Tùy chỉnh checkbox */
            input[type="checkbox"] {
                cursor: pointer;
                /* Lưu ý: Để checkbox đổi màu xanh, cần config Tailwind form plugin 
                   hoặc để mặc định trình duyệt cũng ổn */
            }
        </style>

        <div class="mt-8 flex justify-end space-x-3 pt-4 border-t border-gray-100">
            <a href="{% url 'quan_tri:quan_ly_chu_tro' %}" class="bg-gray-200 text-paragraph px-6 py-2.5 rounded-lg font-medium transition-colors hover:bg-gray-300">
                Hủy
            </a>
            <button type="submit" class="bg-button text-button-text px-6 py-2.5 rounded-lg font-medium transition-colors hover:bg-highlight shadow-md hover:shadow-lg">
                Lưu Thay Đổi
            </button>
        </div>
    </form>
</div>
{% endblock %}